2024-08-21 23:12:16,412 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [io.quarkus] (Quarkus Main Thread) api-pull 1.0.0-SNAPSHOT on JVM (powered by Quarkus 3.13.2) started in 4.116s. Listening on: http://localhost:8080
2024-08-21 23:12:16,416 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.
2024-08-21 23:12:16,417 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, cdi, config-yaml, hibernate-orm, hibernate-orm-panache, jdbc-postgresql, narayana-jta, rest, rest-client, rest-client-jackson, rest-jackson, smallrye-context-propagation, vertx]
2024-08-21 23:12:19,354 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.GithubUserService] (executor-thread-1) Checkin if -> ubuntu exist in DB
2024-08-21 23:12:19,699 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.htt.GithubHttpClient] (executor-thread-1) Repos of not saved user, getting userinfo
2024-08-21 23:12:19,700 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.GithubUserService] (executor-thread-1) Checkin if -> ubuntu exist in DB
2024-08-21 23:12:20,352 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.GithubUserService] (executor-thread-1) Saving ubuntu to internal DB.
2024-08-21 23:12:20,533 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.htt.GithubHttpClient] (executor-thread-1) Pulling repositories from Github ubuntu account
2024-08-21 23:12:21,349 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving aad-auth to internal db
2024-08-21 23:12:21,350 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving adsys to internal db
2024-08-21 23:12:21,351 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving app-center to internal db
2024-08-21 23:12:21,353 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving app-center-ratings to internal db
2024-08-21 23:12:21,354 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving appstream-generator to internal db
2024-08-21 23:12:21,355 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving archive_yaru.dart to internal db
2024-08-21 23:12:21,355 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving archive_yaru_icons.dart to internal db
2024-08-21 23:12:21,356 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving authd to internal db
2024-08-21 23:12:21,356 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving authd-oidc-brokers to internal db
2024-08-21 23:12:21,357 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving azure-resource-reaper to internal db
2024-08-21 23:12:21,358 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving booth-demo-manager to internal db
2024-08-21 23:12:21,359 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving booth-demo-websites to internal db
2024-08-21 23:12:21,360 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving cheese to internal db
2024-08-21 23:12:21,361 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving christmas-music-carousel-snap to internal db
2024-08-21 23:12:21,361 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving codelabs to internal db
2024-08-21 23:12:21,363 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving codelabs-source to internal db
2024-08-21 23:12:21,364 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving communitheme-set-default to internal db
2024-08-21 23:12:21,367 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving communitheme-snap-helpers to internal db
2024-08-21 23:12:21,368 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving communitheme-sounds to internal db
2024-08-21 23:12:21,369 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving community-events-assets to internal db
2024-08-21 23:12:21,370 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving community-events-celery to internal db
2024-08-21 23:12:21,372 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving community-events-indico to internal db
2024-08-21 23:12:21,373 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving community-fosdem-2022-content to internal db
2024-08-21 23:12:21,373 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving community-fosdem-2022-static to internal db
2024-08-21 23:12:21,374 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving cursor-communitheme to internal db
2024-08-21 23:12:21,375 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving deb-ci to internal db
2024-08-21 23:12:21,375 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving decorate to internal db
2024-08-21 23:12:21,376 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving desktop-cve-import to internal db
2024-08-21 23:12:21,376 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving desktop-devel-feedback to internal db
2024-08-21 23:12:21,377 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving desktop-project-template to internal db
2024-08-21 23:12:21,377 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Saving 30 to internal DB
2024-08-21 23:12:21,657 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-1) HTTP Request to /gh/repos/ubuntu failed, error id: ab3edc90-6252-4dc6-ba8f-2b9ea1f3ec04-1: jakarta.persistence.EntityExistsException: detached entity passed to persist: com.marcinchowaniec.entity.UserRepo
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:126)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:763)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)
	at io.quarkus.hibernate.orm.runtime.session.TransactionScopedSession.persist(TransactionScopedSession.java:146)
	at org.hibernate.engine.spi.SessionLazyDelegator.persist(SessionLazyDelegator.java:282)
	at org.hibernate.Session_OpdLahisOZ9nWRPXMsEFQmQU03A_Synthetic_ClientProxy.persist(Unknown Source)
	at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.persist(AbstractJpaOperations.java:105)
	at io.quarkus.hibernate.orm.panache.common.runtime.AbstractJpaOperations.persist(AbstractJpaOperations.java:111)
	at io.quarkus.hibernate.orm.panache.PanacheRepositoryBase.persist(PanacheRepositoryBase.java:739)
	at com.marcinchowaniec.repository.UserRepoRepository_ClientProxy.persist(Unknown Source)
	at com.marcinchowaniec.service.UserRepoService.saveUserRepos(UserRepoService.java:26)
	at com.marcinchowaniec.service.UserRepoService_Subclass.saveUserRepos$$superforward(Unknown Source)
	at com.marcinchowaniec.service.UserRepoService_Subclass$$function$$2.apply(Unknown Source)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInCallerTx(TransactionalInterceptorBase.java:335)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:40)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:61)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(Unknown Source)
	at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)
	at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)
	at com.marcinchowaniec.service.UserRepoService_Subclass.saveUserRepos(Unknown Source)
	at com.marcinchowaniec.service.UserRepoService_ClientProxy.saveUserRepos(Unknown Source)
	at com.marcinchowaniec.httpClient.GithubHttpClient.getUserRepos(GithubHttpClient.java:85)
	at com.marcinchowaniec.httpClient.GithubHttpClient_Subclass.getUserRepos$$superforward(Unknown Source)
	at com.marcinchowaniec.httpClient.GithubHttpClient_Subclass$$function$$2.apply(Unknown Source)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:136)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:107)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:61)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(Unknown Source)
	at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)
	at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)
	at com.marcinchowaniec.httpClient.GithubHttpClient_Subclass.getUserRepos(Unknown Source)
	at com.marcinchowaniec.httpClient.GithubHttpClient_ClientProxy.getUserRepos(Unknown Source)
	at com.marcinchowaniec.controller.GithubApi.getUsernameRepos(GithubApi.java:41)
	at com.marcinchowaniec.controller.GithubApi$quarkusrestinvoker$getUsernameRepos_b9d85da0f0a11bc376a1e739641b5ca4a41d1ba7.invoke(Unknown Source)
	at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)
	at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)
	at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)
	at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:635)
	at org.jboss.threads.EnhancedQueueExecutor$Task.doRunWith(EnhancedQueueExecutor.java:2516)
	at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2495)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1521)
	at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:11)
	at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:11)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: com.marcinchowaniec.entity.UserRepo
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:88)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)
	... 52 more

2024-08-21 23:12:52,227 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[185967] INFO  [io.quarkus] (Shutdown thread) api-pull stopped in 0.018s
