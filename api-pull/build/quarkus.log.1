2024-08-22 19:57:49,369 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [io.quarkus] (Quarkus Main Thread) api-pull 1.0.0-SNAPSHOT on JVM (powered by Quarkus 3.13.2) started in 0.925s. Listening on: http://localhost:8080
2024-08-22 19:57:49,371 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.
2024-08-22 19:57:49,372 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, cdi, config-yaml, hibernate-orm, hibernate-orm-panache, jdbc-postgresql, narayana-jta, rest, rest-client, rest-client-jackson, rest-jackson, smallrye-context-propagation, vertx]
2024-08-22 19:57:49,374 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [io.qua.dep.dev.RuntimeUpdatesProcessor] (vert.x-worker-thread-18) Live reload total time: 0.937s 
2024-08-22 19:57:49,385 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Adding repositories to user
2024-08-22 19:57:49,388 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [com.mar.ser.GithubUserService] (executor-thread-1) Pulling -> {username} from internal DB
2024-08-22 19:57:49,412 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-1) HTTP Request to /gh/repos/%7Busername%7D failed, error id: 76f2762c-3fe9-42db-8de3-30e21938000c-7: jakarta.persistence.NoResultException: No result found for query [FROM `com.marcinchowaniec.entity.GithubUser` WHERE login = ?1]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:558)
	at io.quarkus.hibernate.orm.panache.common.runtime.CommonPanacheQueryImpl.singleResult(CommonPanacheQueryImpl.java:332)
	at io.quarkus.hibernate.orm.panache.runtime.PanacheQueryImpl.singleResult(PanacheQueryImpl.java:170)
	at com.marcinchowaniec.repository.GithubUserRepository.findByLogin(GithubUserRepository.java:12)
	at com.marcinchowaniec.repository.GithubUserRepository_ClientProxy.findByLogin(Unknown Source)
	at com.marcinchowaniec.service.GithubUserService.getRepoOwnerByLogin(GithubUserService.java:27)
	at com.marcinchowaniec.service.GithubUserService_ClientProxy.getRepoOwnerByLogin(Unknown Source)
	at com.marcinchowaniec.service.UserRepoService.saveUserReposToUser(UserRepoService.java:49)
	at com.marcinchowaniec.service.UserRepoService_Subclass.saveUserReposToUser$$superforward(Unknown Source)
	at com.marcinchowaniec.service.UserRepoService_Subclass$$function$$51.apply(Unknown Source)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:136)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:107)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:61)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(Unknown Source)
	at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)
	at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)
	at com.marcinchowaniec.service.UserRepoService_Subclass.saveUserReposToUser(Unknown Source)
	at com.marcinchowaniec.service.UserRepoService_ClientProxy.saveUserReposToUser(Unknown Source)
	at com.marcinchowaniec.controller.GithubApi.getUsernameRepos(GithubApi.java:42)
	at com.marcinchowaniec.controller.GithubApi$quarkusrestinvoker$getUsernameRepos_8d854e9941115873e54b293f6929f720aded9579.invoke(Unknown Source)
	at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)
	at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)
	at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)
	at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:635)
	at org.jboss.threads.EnhancedQueueExecutor$Task.doRunWith(EnhancedQueueExecutor.java:2516)
	at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2495)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1521)
	at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:11)
	at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:11)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2024-08-22 19:57:57,770 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [com.mar.ser.UserRepoService] (executor-thread-1) Adding repositories to user
2024-08-22 19:57:57,771 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [com.mar.ser.GithubUserService] (executor-thread-1) Pulling -> marcincho from internal DB
2024-08-22 19:57:57,863 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-1) HTTP Request to /gh/repos/marcincho failed, error id: 76f2762c-3fe9-42db-8de3-30e21938000c-8: jakarta.persistence.NoResultException: No result found for query [FROM `com.marcinchowaniec.entity.GithubUser` WHERE login = ?1]
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:558)
	at io.quarkus.hibernate.orm.panache.common.runtime.CommonPanacheQueryImpl.singleResult(CommonPanacheQueryImpl.java:332)
	at io.quarkus.hibernate.orm.panache.runtime.PanacheQueryImpl.singleResult(PanacheQueryImpl.java:170)
	at com.marcinchowaniec.repository.GithubUserRepository.findByLogin(GithubUserRepository.java:12)
	at com.marcinchowaniec.repository.GithubUserRepository_ClientProxy.findByLogin(Unknown Source)
	at com.marcinchowaniec.service.GithubUserService.getRepoOwnerByLogin(GithubUserService.java:27)
	at com.marcinchowaniec.service.GithubUserService_ClientProxy.getRepoOwnerByLogin(Unknown Source)
	at com.marcinchowaniec.service.UserRepoService.saveUserReposToUser(UserRepoService.java:49)
	at com.marcinchowaniec.service.UserRepoService_Subclass.saveUserReposToUser$$superforward(Unknown Source)
	at com.marcinchowaniec.service.UserRepoService_Subclass$$function$$51.apply(Unknown Source)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:136)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:107)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.doIntercept(TransactionalInterceptorRequired.java:38)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorBase.intercept(TransactionalInterceptorBase.java:61)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:32)
	at io.quarkus.narayana.jta.runtime.interceptor.TransactionalInterceptorRequired_Bean.intercept(Unknown Source)
	at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)
	at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)
	at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)
	at com.marcinchowaniec.service.UserRepoService_Subclass.saveUserReposToUser(Unknown Source)
	at com.marcinchowaniec.service.UserRepoService_ClientProxy.saveUserReposToUser(Unknown Source)
	at com.marcinchowaniec.controller.GithubApi.getUsernameRepos(GithubApi.java:42)
	at com.marcinchowaniec.controller.GithubApi$quarkusrestinvoker$getUsernameRepos_8d854e9941115873e54b293f6929f720aded9579.invoke(Unknown Source)
	at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)
	at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)
	at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)
	at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:635)
	at org.jboss.threads.EnhancedQueueExecutor$Task.doRunWith(EnhancedQueueExecutor.java:2516)
	at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2495)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1521)
	at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:11)
	at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:11)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2024-08-22 19:58:28,032 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-1) HTTP Request to /gh/marcincho failed, error id: 76f2762c-3fe9-42db-8de3-30e21938000c-9: java.lang.NoSuchMethodError: 'java.util.Optional com.marcinchowaniec.httpClient.GithubHttpClient.getGithubUser(java.lang.String)'
	at com.marcinchowaniec.controller.GithubApi.getUsernameResponse(GithubApi.java:35)
	at com.marcinchowaniec.controller.GithubApi$quarkusrestinvoker$getUsernameResponse_6bcdd3c66a2d1afe7d6afcb9a2ca4395606eac38.invoke(Unknown Source)
	at org.jboss.resteasy.reactive.server.handlers.InvocationHandler.handle(InvocationHandler.java:29)
	at io.quarkus.resteasy.reactive.server.runtime.QuarkusResteasyReactiveRequestContext.invokeHandler(QuarkusResteasyReactiveRequestContext.java:141)
	at org.jboss.resteasy.reactive.common.core.AbstractResteasyReactiveContext.run(AbstractResteasyReactiveContext.java:147)
	at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:635)
	at org.jboss.threads.EnhancedQueueExecutor$Task.doRunWith(EnhancedQueueExecutor.java:2516)
	at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2495)
	at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1521)
	at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:11)
	at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:11)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)

2024-08-22 20:00:28,467 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [io.quarkus] (Test runner thread) api-pull 1.0.0-SNAPSHOT on JVM (powered by Quarkus 3.13.2) started in 0.905s. Listening on: http://localhost:8081
2024-08-22 20:00:28,471 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [io.quarkus] (Test runner thread) Profile test activated. 
2024-08-22 20:00:28,474 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [io.quarkus] (Test runner thread) Installed features: [agroal, cdi, config-yaml, hibernate-orm, hibernate-orm-panache, jdbc-postgresql, narayana-jta, rest, rest-client, rest-client-jackson, rest-jackson, smallrye-context-propagation, vertx]
2024-08-22 20:00:28,532 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [io.quarkus] (Test runner thread) api-pull(test application) stopped in 0.018s
2024-08-22 20:00:28,540 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] ERROR [io.qua.test] (Test runner thread) [39m==================== TEST REPORT #10[39m ====================
2024-08-22 20:00:28,541 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] ERROR [io.qua.test] (Test runner thread) [91mTest GreetingResourceTest#testHelloEndpoint() failed 
[39m: java.lang.AssertionError: 1 expectation failed.
Expected status code <200> but was <404>.

	at io.restassured.internal.ValidatableResponseOptionsImpl.statusCode(ValidatableResponseOptionsImpl.java:89)
	at com.marcinchowaniec.GreetingResourceTest.testHelloEndpoint(GreetingResourceTest.java:16)

2024-08-22 20:00:28,542 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] ERROR [io.qua.test] (Test runner thread) [39m>>>>>>>>>>>>>>>>>>>> [91mSummary:[39m <<<<<<<<<<<<<<<<<<<<
com.marcinchowaniec.GreetingResourceTest#testHelloEndpoint(GreetingResourceTest.java:16) [91mGreetingResourceTest#testHelloEndpoint()[39m 1 expectation failed.
Expected status code <200> but was <404>.
2024-08-22 20:00:28,543 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] ERROR [io.qua.test] (Test runner thread) [39m>>>>>>>>>>>>>>>>>>>> [91m1 TEST FAILED[39m <<<<<<<<<<<<<<<<<<<<
2024-08-22 20:00:29,631 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [io.qua.dep.dev.RuntimeUpdatesProcessor] (vert.x-worker-thread-20) Restarting quarkus due to changes in GithubApi.class.
2024-08-22 20:00:29,638 marcinsasusv /home/marcin/.sdkman/candidates/java/21.0.3-amzn/bin/java[564225] INFO  [io.quarkus] (Quarkus Main Thread) api-pull stopped in 0.005s
